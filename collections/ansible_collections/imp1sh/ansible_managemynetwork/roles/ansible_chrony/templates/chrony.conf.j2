# configuration file generated by Ansible
{% if chronyd_config_servers is defined %}
#servers
{% for server in chronyd_config_servers %}
server {{ server['name'] }} {{ server['options'] | default('') }}
{% endfor %}
{% endif %}

{% if chronyd_config_pools is defined %}
# pools
{% for pool in chronyd_config_pools %}
pool {{ pool['name'] }} {{ pool['options'] | default('') }}
{% endfor %}
{% endif %}

{% if chronyd_config_peers is defined %}
# peers
{% for peer in chronyd_config_peers %}
peer {{ peer['name'] }} {{ peer['options'] | default('') }}
{% endfor %}
{% endif %}

{% if chronyd_config_refclocks is defined %}
# refclocks
{% for refclock in chronyd_config_refclocks %}
refclock {{ refclock['driver'] }} {{ refclock['parameter'] }} {{ refclock['options'] | default('') }}
{% endfor %}
{% endif %}

{% if chronyd_config_allowfroms is defined %}
# allow from if this should be an ntp server
{% for allowrecord in chronyd_config_allowfroms %}
allow {{ allowrecord }}
{% endfor %}
{% endif %}

{% if chronyd_config_denyfroms is defined %}
# deny if the server should deny specific systems
{% for denyrecord in chronyd_config_denyfroms %}
deny {{ denyrecord }}
{% endfor %}
{% endif %}

{% if chronyd_config_initstepslew is defined %}
initstepslew {{ chronyd_config_initstepslew }}
{% endif %}
{% if chronyd_config_corrtimeratio is defined %}
corrtimeratio {{ chronyd_config_corrtimeratio }}
{% endif %}
{% if chronyd_config_fallbackdrift is defined %}
fallbackdrift {{ chronyd_config_fallbackdrift }}
{% endif %}
{% if chronyd_config_leapsecmode is defined %}
leapsecmode {{ chronyd_config_leapsecmode }}
{% endif %}
{% if chronyd_config_leapsectz is defined %}
leapsectz {{ chronyd_config_leapsectz }}
{% endif %}
{% if chronyd_config_makestep is defined %}
makestep {{ chronyd_config_makestep }}
{% endif %}
{% if chronyd_config_maxchange is defined %}
maxchange {{ chronyd_config_maxchange }}
{% endif %}
{% if chronyd_config_maxclockerror is defined %}
maxclockerror {{ chronyd_config_maxclockerror }}
{% endif %}
{% if chronyd_config_maxdrift is defined %}
maxdrift {{ chronyd_config_maxdrift }}
{% endif %}
{% if chronyd_config_maxupdateskew is defined %}
maxupdateskew {{ chronyd_config_maxupdateskew }}
{% endif %}
{% if chronyd_config_maxslewrate is defined %}
maxslewrate {{ chronyd_config_maxslewrate }}
{% endif %}
{% if chronyd_config_tempcomp is defined %}
tempcomp {{ chronyd_config_tempcomp }}
{% endif %}
{% if chronyd_config_bindaddress is defined %}
bindaddress {{ chronyd_config_bindaddress }}
{% endif %}
{% if chronyd_config_broadcast is defined %}
broadcast {{ chronyd_config_broadcast }}
{% endif %}
{% if chronyd_config_clientloglimit is defined %}
clientloglimit {{ chronyd_config_clientloglimit }}
{% endif %}
{% if chronyd_config_noclientlog is defined %}
noclientlog {{ chronyd_config_noclientlog }}
{% endif %}
{% if chronyd_config_local is defined %}
local {{ chronyd_config_local }}
{% endif %}
{% if chronyd_config_port is defined %}
port {{ chronyd_config_port }}
{% endif %}
{% if chronyd_config_ratelimit is defined %}
ratelimit {{ chronyd_config_ratelimit }}
{% endif %}
{% if chronyd_config_smoothtime is defined %}
smoothtime {{ chronyd_config_smoothtime }}
{% endif %}
{% if chronyd_config_bindcmdaddress is defined %}
bindcmdaddress {{ chronyd_config_bindcmdaddress }}
{% endif %}
{% if chronyd_config_cmdallow is defined %}
cmdallow {{ chronyd_config_cmdallow }}
{% endif %}
{% if chronyd_config_cmddeny is defined %}
cmddeny {{ chronyd_config_cmddeny }}
{% endif %}
{% if chronyd_config_cmdport is defined %}
cmdport {{ chronyd_config_cmdport }}
{% endif %}
{% if chronyd_config_cmdratelimit is defined %}
cmdratelimit {{ chronyd_config_cmdratelimit }}
{% endif %}
{% if chronyd_config_hwclockfile is defined %}
hwclockfile {{ chronyd_config_hwclockfile }}
{% endif %}
{% if chronyd_config_rtcautotrim is defined %}
rtcautotrim {{ chronyd_config_rtcautotrim }}
{% endif %}
{% if chronyd_config_rtcdevice is defined %}
rtcdevice {{ chronyd_config_rtcdevice }}
{% endif %}
{% if chronyd_config_rtcfile is defined %}
rtcfile {{ chronyd_config_rtcfile }}
{% endif %}
{% if chronyd_config_rtconutc is defined %}
rtconutc {{ chronyd_config_rtconutc }}
{% endif %}
{% if chronyd_config_rtcsync is defined %}
rtcsync
{% endif %}
{% if chronyd_config_log is defined %}
log {{ chronyd_config_log }}
{% endif %}
{% if chronyd_config_logbanner is defined %}
logbanner {{ chronyd_config_logbanner }}
{% endif %}
{% if chronyd_config_logchange is defined %}
logchange {{ chronyd_config_logchange }}
{% endif %}
{% if chronyd_config_logdir is defined %}
logdir {{ chronyd_config_logdir }}
{% endif %}
{% if chronyd_config_mailonchange is defined %}
mailonchange {{ chronyd_config_mailonchange }}
{% endif %}
{% if chronyd_config_keyfile is defined %}
keyfile {{ chronyd_config_keyfile }}
{% endif %}
{% if chronyd_config_lock_all is defined %}
lock_all {{ chronyd_config_lock_all }}
{% endif %}
{% if chronyd_config_pidfile is defined %}
pidfile {{ chronyd_config_pidfile }}
{% endif %}
{% if chronyd_config_sched_priority is defined %}
sched_priority {{ chronyd_config_sched_priority }}
{% endif %}
{% if chronyd_config_sched_user is defined %}
sched_user {{ chronyd_config_sched_user }}
{% endif %}
# OS specific
driftfile {{ chronyd_config_driftfile }}
# include config parameters not controlled by Ansible
{% if chronyd_config_includedir is defined %}
include {{ chronyd_pathconfig }}/{{ chronyd_config_includedir }}/*.conf
{% endif %}
